{% block moreScript %}
	<script type="text/javascript">
        $('.zoom-gallery').magnificPopup({
            delegate: 'a', 
            type: 'image',
            mainClass: 'mfp-with-zoom',
            closeOnContentClick: false,
            closeBtnInside: false,
            gallery:{
                enabled:true
            },
            zoom: {
                enabled: true,
                duration: 300,
                easing: 'ease-in-out',
                opener: function(openerElement) {
                    return openerElement.is('img') ? openerElement : openerElement.find('img');
                }
            }
        });
        $('[data-toggle="tooltip"]').tooltip();
        $('#edit_priorite_probleme').tooltip({ 
            placement: 'right'
        });
        $('#delete_probleme_button').tooltip({ 
            placement: 'right'
        });
    </script>
{% endblock %}

{% block autoSearch %}
	<script type="text/javascript">
		(function() {
		  var placesAutocomplete = places({
		    appId: 'pl6WHRUX0BCF',
		    apiKey: 'd1036e535180c27b6723484a26b33de1',
		    container: document.querySelector('#probleme_localisation'),
		    templates: {
		      value: function(suggestion) {
		        return suggestion.name;
		      }
		    }
		  }).configure({
		  	countries: ['fr'],
		    type: 'address',
		    aroundLatLngViaIP: false,
		  });
		  placesAutocomplete.on('change', function resultSelected(e) {
		    document.querySelector('#probleme_nomVille').value = e.suggestion.city || '';
		  });
		})();
	</script>
{% endblock %}